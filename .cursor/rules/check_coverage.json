{
    "name": "Test Coverage Check",
    "description": "Ensures test coverage stays above 95% after code changes",
    "enabled": true,
    "promptModifiers": [],
    "runOn": [
        "afterSave"
    ],
    "canRunWithoutFile": false,
    "files": [
        {
            "path": "src/tapo_chatter/**/*.py"
        }
    ],
    "excludedFiles": [
        {
            "path": "tests/**"
        }
    ],
    "action": {
        "type": "shell",
        "command": "python tests/check_coverage.py",
        "workingDir": ".",
        "continueOnError": true
    },
    "suggestUserAction": {
        "description": "Check if coverage is still above 95%. If not, consider adding more tests.",
        "actionTemplate": "Please fix the test coverage. It has dropped below 95%.\n\nConsider adding tests for the following changes:\n{{outputLines}}"
    }
}